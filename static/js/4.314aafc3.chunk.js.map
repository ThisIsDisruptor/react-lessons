{"version":3,"sources":["components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Dialogs.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","hoc/withAuthRedirect.jsx"],"names":["module","exports","DialogItem","props","path","id","className","classes","dialog","to","name","Message","message","maxLength30","maxLengthCreator","AddMessageReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","placeholder","validate","requiredField","Dialogs","dialogsPage","dialogs","messages","dialogsElements","map","messagesElements","isAuth","dialogsItems","messsages","formData","console","log","addMessage","newMessageText","functionsToProps","DialogsContainer","compose","Component","RedirectComponent","this","React","connect","state","auth"],"mappings":"yGACAA,EAAOC,QAAU,CAAC,aAAe,iCAAiC,OAAS,2BAA2B,OAAS,6B,oBCA/GD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,OAAS,wBAAwB,UAAY,2BAA2B,SAAW,4B,oBCAtND,EAAOC,QAAU,CAAC,UAAY,2BAA2B,SAAW,4B,sMCYrDC,EATI,SAACC,GAChB,IAAIC,EAAI,mBAAeD,EAAME,IAC7B,OACI,qBAAKC,UAAWC,IAAQC,OAAxB,SACI,cAAC,IAAD,CAASC,GAAIL,EAAb,SAAoBD,EAAMO,U,oCCGvBC,EAPC,SAACR,GACb,OACI,qBAAKG,UAAWC,IAAQK,QAAxB,SAAkCT,EAAMS,WCM5CC,EAAcC,YAAiB,IAqB7BC,EAAsBC,YAAU,CACpCC,KAAM,WADoBD,EApBL,SAACb,GACtB,OACE,sBAAMe,SAAUf,EAAMgB,aAAtB,SACE,gCACE,8BACE,cAACC,EAAA,EAAD,CACEC,UAAWC,IACXZ,KAAK,iBACLa,YAAY,qBACZC,SAAU,CAACC,IAAeZ,OAG9B,8BACE,4DAwCKa,EA7BC,SAACvB,GAAW,IAAD,EACGA,EAAMwB,YAA5BC,EADmB,EACnBA,QAASC,EADU,EACVA,SAEXC,EAAkBF,EAAQG,KAAI,SAACvB,GAAD,OAChC,cAAC,EAAD,CAAYH,GAAIG,EAAOH,GAAIK,KAAMF,EAAOE,UAGtCsB,EAAmBH,EAASE,KAAI,SAACnB,GAAD,OAClC,cAAC,EAAD,CAASA,QAASA,EAAQA,aAQ5B,OAAKT,EAAM8B,OAGT,sBAAK3B,UAAWC,IAAQqB,QAAxB,UACE,qBAAKtB,UAAWC,IAAQ2B,aAAxB,SAAuCJ,IACvC,sBAAKxB,UAAWC,IAAQ4B,UAAxB,UACGH,EACD,cAACjB,EAAD,CAAqBG,SAZN,SAACkB,GACpBC,QAAQC,IAAIF,GACZjC,EAAMoC,WAAWH,EAASI,yBAGF,cAAC,IAAD,CAAU/B,GAAG,YCtCrCgC,EAAmB,CACrBF,gBAGEG,EAAmBC,aCfS,SAACC,GAAe,IACxCC,EADuC,uKAGzC,OAAKC,KAAK3C,MAAM8B,OACT,cAACW,EAAD,eAAeE,KAAK3C,QADI,cAAC,IAAD,CAAUM,GAAG,eAHH,GACbsC,IAAMH,WActC,OAJoCI,aAHN,SAACC,GAAD,MAAY,CACxChB,OAAQgB,EAAMC,KAAKjB,UAEee,CAClCH,KDKFG,aAboB,SAACC,GACrB,MAAO,CACLtB,YAAasB,EAAMtB,YACnBM,OAAQgB,EAAMC,KAAKjB,UAUIQ,GAFJE,CAGrBjB,GAEagB","file":"static/js/4.314aafc3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogsItems\":\"DialogItem_dialogsItems__1klP7\",\"active\":\"DialogItem_active__tmKQk\",\"dialog\":\"DialogItem_dialog__2H4ra\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3q15L\",\"dialogsItems\":\"Dialogs_dialogsItems__VjSw0\",\"active\":\"Dialogs_active__oBUzb\",\"dialog\":\"Dialogs_dialog__1Upvv\",\"messsages\":\"Dialogs_messsages__1LYas\",\"messsage\":\"Dialogs_messsage__3Z0gt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messsages\":\"Message_messsages__G4NeQ\",\"messsage\":\"Message_messsage__3ouZW\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classes from './DialogItem.module.css';\r\n\r\nconst DialogItem = (props) => {\r\n    let path = `/dialogs/${props.id}`;\r\n    return (\r\n        <div className={classes.dialog}>\r\n            <NavLink to={path}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport classes from './Message.module.css';\r\n\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className={classes.message}>{props.message}</div>\r\n    )\r\n}\r\n\r\n\r\nexport default Message;","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport {\r\n  maxLengthCreator,\r\n  requiredField,\r\n} from \"../../utils/valodators/validators\";\r\nimport { Textarea } from \"../common/FormsControls/FormsControls\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport classes from \"./Dialogs.module.css\";\r\nimport Message from \"./Message/Message\";\r\n\r\nlet maxLength30 = maxLengthCreator(30);\r\nconst AddMessageForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <div>\r\n          <Field\r\n            component={Textarea}\r\n            name=\"newMessageText\"\r\n            placeholder=\"Write your message\"\r\n            validate={[requiredField, maxLength30]}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button>Send Message</button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst AddMessageReduxForm = reduxForm({\r\n  form: \"addPost\",\r\n})(AddMessageForm);\r\n\r\nconst Dialogs = (props) => {\r\n  let { dialogs, messages } = props.dialogsPage;\r\n\r\n  let dialogsElements = dialogs.map((dialog) => (\r\n    <DialogItem id={dialog.id} name={dialog.name} />\r\n  ));\r\n\r\n  let messagesElements = messages.map((message) => (\r\n    <Message message={message.message} />\r\n  ));\r\n\r\n  const onAddMessage = (formData) => {\r\n    console.log(formData);\r\n    props.addMessage(formData.newMessageText);\r\n  };\r\n\r\n  if (!props.isAuth) return <Redirect to=\"/login\" />;\r\n\r\n  return (\r\n    <div className={classes.dialogs}>\r\n      <div className={classes.dialogsItems}>{dialogsElements}</div>\r\n      <div className={classes.messsages}>\r\n        {messagesElements}\r\n        <AddMessageReduxForm onSubmit={onAddMessage} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dialogs;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { addMessage } from \"../../redux/dialogsReducer\";\r\n\r\nimport Dialogs from \"./Dialogs\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    dialogsPage: state.dialogsPage,\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nlet functionsToProps = {\r\n  addMessage,\r\n};\r\n\r\nlet DialogsContainer = compose(\r\n  withAuthRedirect,\r\n  connect(mapStateToProps, functionsToProps)\r\n)(Dialogs);\r\n\r\nexport default DialogsContainer;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to=\"/login\" />;\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n\r\n  let mapStateToPropsRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n  });\r\n  let ConectedAuthRedirectComponent = connect(mapStateToPropsRedirect)(\r\n    RedirectComponent\r\n  );\r\n\r\n  return ConectedAuthRedirectComponent;\r\n};\r\n"],"sourceRoot":""}